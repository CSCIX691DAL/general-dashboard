<!-- Sidebar modified from:
     https://therichpost.com/how-to-make-simple-sidebar-template-with-bootstrap-4-and-angular-9/
     -->
<div class="d-flex" id="wrapper">
  <!-- Sidebar -->
  <div class="bg-light border-right" id="sidebar-wrapper">
    <div class="sidebar-heading">Widgets
    </div>
    <div class="list-group list-group-flush">
      <!-- Add some sort of ngFor loop here to generate available widgets -->
      <!-- Code for an individual widget text + dropright menu starts -->
      <div *ngFor="let report of allUserGeneratedReports" class="dropright list-group-item list-group-item-action bg-light">
        <a class="dropright dropdown-toggle" href="#"
           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          {{report['reports_model.name']}}
        </a>
        <div class="dropdown-menu">
          <!-- Dropdown menu links -->
          <a class="dropdown-item" href="#">Add</a>
          <a class="dropdown-item" (click)="this.deleteWidgets(report)">Delete</a>
        </div>
      </div>
      <hr>
    </div>
    <div class="sidebar-heading">Current Widgets</div>
    <div *ngFor="let report of activeUserGeneratedReports">
      <!-- Add some sort of ngFor loop here to generate current widgets -->
      <a href="#" class="list-group-item list-group-item-action bg-light">{{report['reports_model.name']}}</a>
    </div>

  </div>
  <!-- /#sidebar-wrapper -->
  <!-- Page Content -->
  <div id="page-content-wrapper" class="container-fluid">
    <!-- To display UserHomepage contents -->
    <h1>User Homepage</h1>
    <div
      class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
      <h2>Dashboard</h2>

    </div>
    <div class="d-flex flex-wrap" style="width: 100%">
      <div *ngFor="let widget of displayedWidgets">
        <div class="container">
          <div *ngIf="isTable(widget)">
            <table class="table">
              <thead>
              <tr>
                <th *ngFor="let item of widget.data[0]| keyvalue" scope="col">{{item.key}}</th>
              </tr>
              </thead>

              <tbody *ngFor="let emp of widget.data">
              <tr>
                <td *ngFor="let item of emp| keyvalue">
                  {{item.value}}
                </td>
              </tr>

              </tbody>
            </table>
          </div>
          <app-chart *ngIf="!isTable(widget)" [chartInfo]="widget"></app-chart>

        </div>
      </div>
    </div>
    <button class="btn btn-dark" id="menu-toggle">
      <svg id="barLeft" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
           class="bi bi-arrow-bar-left" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5zM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5z"/>
      </svg>
      <svg id="barRight" style="display: none" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
           fill="currentColor" class="bi bi-arrow-bar-right" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M6 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L12.293 7.5H6.5A.5.5 0 0 0 6 8zm-2.5 7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5z"/>
      </svg>
    </button>
  </div>
  <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->
